<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Galen Instant Tester</title>

        <!-- Bootstrap -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-theme.min.css" rel="stylesheet">
        <link href="css/main.css" rel="stylesheet">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        <script src="js/handlebars-v4.0.5.js"></script>
    </head>
    </head>
    <body>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="js/jquery-1.8.3.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="js/bootstrap.min.js"></script>
        <script src="js/app.js"></script>

        <h1>Galen Instant Tester</h1>

        <div id="">
            <div id="specs-browser"></div>
            <div id="test-results"></div>
        </div>

        <script id="tpl-test-results" type="text/x-handlebars-template">
            <h3>Test Results{{#if overview/totalDuration}}, total duration:  {{formatDurationHumanReadable overview/totalDuration}}{{/if}}</h3>
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th>Status</th>
                        <th>Device</th>
                        <th>Size</th>
                        <th>Duration</th>
                        <th>Details</th>
                        <th>Report</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each tests}}
                    <tr>
                        <td>
                            {{#if testResult}}
                                <span class="test-status-{{testResult/status}}">
                                    {{testResult/status}}
                                </span>
                            {{else}}
                                <span class="test-status-{{status}}">{{status}}</span>
                            {{/if}}
                        </td>
                        <td>
                            {{name}}
                        </td>
                        <td>
                            {{size}}
                        </td>
                        <td>
                            {{#if testResult}}
                                {{formatDurationHumanReadable testResult/duration}}
                            {{/if}}
                        </td>
                        <td>
                            {{#if testResult}}
                                {{#with testResult}}
                                    <span class="test-status-{{status}}">
                                        {{errors}} errors, {{warnings}} warnings
                                    </span>
                                    <ul class="error-messages">
                                        {{#each errorMessages}}
                                        <li>
                                            {{this}}
                                        </li>
                                        {{/each}}
                                    </ul>
                                {{/with}}
                            {{/if}}
                        </td>
                        <td>
                            {{#if testResult}}
                                {{#with testResult}}
                                    {{#if externalReport}}
                                        <a href="/reports/{{externalReport}}">Report</a>
                                    {{/if}}
                                {{/with}}
                            {{/if}}
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </script>
        
        <script id="tpl-specs-browser" type="text/x-handlebars-template">
            <div class="panel panel-default">
                <div class="panel-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th width="200px"></th>
                                <th width="100%">Name</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each files}}
                                <tr>
                                    <td>
                                        <button type="button" class="btn btn-primary action-launch-spec" data-spec-name="{{name}}">Test</button>
                                    </td>
                                    <td>
                                        {{name}}
                                    </td>
                                </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>
        </script>

    </body>
</html>
